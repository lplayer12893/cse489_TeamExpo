function A = rotateOptimal(b) % finds the rotation according to the rotation reference
% b is the matrix to be tested or added to the centroid, and must be optimally rotated
s = size(b);
a = generateRotationReference(s(1),length(b));
temp = b;
min = hammingDist(a(:),b(:));
n = 0;
for i = 0:35
    temp = imrotate(b,i*10,'bilinear','crop');
    n = hammingDist(a(:),temp(:));
    if(n < min)
        min = temp;
    end
end

if(min(:) > 0)
    min(:) = 1;
else
    min(:) = -1;
ret
A = min;